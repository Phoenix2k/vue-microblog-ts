(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{200:function(t,e,a){"use strict";a.r(e);var r=a(0),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[t._v("#")]),t._v(" Server")]),t._v(" "),a("blockquote",[a("p",[t._v("Source files: "),a("code",[t._v("src/server")])])]),t._v(" "),a("p",[t._v("The server is build on top of "),a("a",{attrs:{href:"https://nodejs.org/",title:"Node.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node"),a("OutboundLink")],1),t._v(" using the "),a("a",{attrs:{href:"https://expressjs.com",title:"Express – Fast, unopinionated, minimalist web framework for Node.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express"),a("OutboundLink")],1),t._v(" framework and "),a("a",{attrs:{href:"https://mongoosejs.com/",title:"Elegant mongodb object modeling for Node.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mongoose"),a("OutboundLink")],1),t._v(" for handling the "),a("a",{attrs:{href:"https://www.mongodb.com",title:"MongoDB",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB"),a("OutboundLink")],1),t._v(" side of things.")]),t._v(" "),a("p",[t._v("I chose "),a("a",{attrs:{href:"https://mongoosejs.com/",title:"Elegant mongodb object modeling for Node.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mongoose"),a("OutboundLink")],1),t._v(", because it had some extra features I was looking for such "),a("a",{attrs:{href:"https://mongoosejs.com/docs/guide.html",title:"Mongoose schemas",target:"_blank",rel:"noopener noreferrer"}},[t._v("schemas"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://mongoosejs.com/docs/validation.html",title:"Mongoose validation",target:"_blank",rel:"noopener noreferrer"}},[t._v("validation"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://expressjs.com",title:"Express – Fast, unopinionated, minimalist web framework for Node.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express"),a("OutboundLink")],1),t._v(", since it's been around forever and it had all the extra typings for TypeScript needed for development.")]),t._v(" "),a("p",[t._v("The source files for the server are located under the "),a("code",[t._v("src/server")]),t._v(" folder and are served locally using "),a("a",{attrs:{href:"https://nodemon.io/",title:"Nodemon is a utility that will monitor for any changes in your source and automatically restart your server",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nodemon"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/TypeStrong/ts-node",title:"TypeScript execution and REPL for Node.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("TS-Node"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("p",[t._v("Apart from serving the static files generated by the Vue CLI, the Node server also has an important role in providing the endpoints the client uses to communicate with the database.")]),t._v(" "),a("h3",{attrs:{id:"base-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#base-url"}},[t._v("#")]),t._v(" Base URL")]),t._v(" "),a("p",[a("code",[t._v("/api")])]),t._v(" "),a("p",[t._v("Since this is a rather simple project, it currently only has a single enpoint which handles all basic CRUD commands that you would expect: "),a("code",[t._v("POST")]),t._v(", "),a("code",[t._v("GET")]),t._v(", "),a("code",[t._v("PUT")]),t._v(" and "),a("code",[t._v("DELETE")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"delete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[t._v("#")]),t._v(" DELETE")]),t._v(" "),a("p",[t._v("Deletes an existing post:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DELETE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("api\n")])])]),a("h4",{attrs:{id:"params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[t._v("#")]),t._v(" Params")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Params")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Type")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("postId")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("String")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ID of the post being deleted")])])])]),t._v(" "),a("h4",{attrs:{id:"response-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-code"}},[t._v("#")]),t._v(" Response code")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Code")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("200")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Post successfully deleted")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("404")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("postId")]),t._v(" not found")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("500")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Server not available")])])])]),t._v(" "),a("h4",{attrs:{id:"return"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return"}},[t._v("#")]),t._v(" Return")]),t._v(" "),a("p",[t._v("Response code only.")]),t._v(" "),a("h3",{attrs:{id:"get"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" "),a("code",[t._v("GET")])]),t._v(" "),a("p",[t._v("Gets all the posts from the collection:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("api\n")])])]),a("h4",{attrs:{id:"response-code-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-code-2"}},[t._v("#")]),t._v(" Response code")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Code")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("200")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Request OK")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("500")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Server not available")])])])]),t._v(" "),a("h4",{attrs:{id:"return-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-2"}},[t._v("#")]),t._v(" Return")]),t._v(" "),a("p",[t._v("Type: "),a("code",[t._v("JSON")]),t._v(" or "),a("code",[t._v("Error")])]),t._v(" "),a("h3",{attrs:{id:"post"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[t._v("#")]),t._v(" "),a("code",[t._v("POST")])]),t._v(" "),a("p",[t._v("Adds a post to the collection:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("api\n")])])]),a("h4",{attrs:{id:"params-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#params-2"}},[t._v("#")]),t._v(" Params")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Params")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Type")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("body")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("String")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Body text")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("title")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("String")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Title of the post")])])])]),t._v(" "),a("p",[t._v("Mongoose will automatically check the values and add both the "),a("code",[t._v("createdAt")]),t._v(" date and "),a("code",[t._v("_id")]),t._v(" values if everything cheks out.")]),t._v(" "),a("h4",{attrs:{id:"response-code-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-code-3"}},[t._v("#")]),t._v(" Response code")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Code")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("201")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Post created")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("500")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Server not available")])])])]),t._v(" "),a("h4",{attrs:{id:"return-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-3"}},[t._v("#")]),t._v(" Return")]),t._v(" "),a("p",[t._v("Response code only.")]),t._v(" "),a("h3",{attrs:{id:"put"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put"}},[t._v("#")]),t._v(" "),a("code",[t._v("PUT")])]),t._v(" "),a("p",[t._v("Updates an existing post:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("api\n")])])]),a("h4",{attrs:{id:"params-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#params-3"}},[t._v("#")]),t._v(" Params")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Params")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Type")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("postId")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("String")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ID of the post being deleted")])])])]),t._v(" "),a("h4",{attrs:{id:"response-code-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-code-4"}},[t._v("#")]),t._v(" Response code")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Code")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("200")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Post successfully updated")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("500")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Server not available")])])])]),t._v(" "),a("h4",{attrs:{id:"return-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-4"}},[t._v("#")]),t._v(" Return")]),t._v(" "),a("p",[t._v("Response code only.")]),t._v(" "),a("h2",{attrs:{id:"commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commands"}},[t._v("#")]),t._v(" Commands")]),t._v(" "),a("p",[t._v("The following commands are meant to be run from the root of the project.")]),t._v(" "),a("h3",{attrs:{id:"development"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#development"}},[t._v("#")]),t._v(" Development")]),t._v(" "),a("p",[t._v("Serve with watch service:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev:server\n")])])]),a("p",[t._v("The server will be available at "),a("code",[t._v("http://localhost:5000")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"linting-files-for-errors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linting-files-for-errors"}},[t._v("#")]),t._v(" Linting files for errors")]),t._v(" "),a("p",[t._v("Check for errors:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run lint:server\n")])])]),a("p",[t._v("Fix errors automatically:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run lint:fix:server\n")])])]),a("p",[t._v("This will mainly fix aesthetic issues reported by "),a("a",{attrs:{href:"https://palantir.github.io/tslint/",title:"An extensible linter for the TypeScript language.",target:"_blank",rel:"noopener noreferrer"}},[t._v("TSLint"),a("OutboundLink")],1),t._v(". If you have actual errors in your code, you will need to fix them manually.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("tslint.conf")]),t._v(" configuration file is shared between both the client and server and can be found in the root of the project.")]),t._v(" "),a("h3",{attrs:{id:"testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing"}},[t._v("#")]),t._v(" Testing")]),t._v(" "),a("p",[t._v("See the "),a("RouterLink",{attrs:{to:"/home/#testing"}},[t._v("testing section")]),t._v(" in the main documentation.")],1),t._v(" "),a("h3",{attrs:{id:"building-for-production"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#building-for-production"}},[t._v("#")]),t._v(" Building for production")]),t._v(" "),a("p",[t._v("Build the server for production:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:server\n")])])]),a("p",[t._v("The production files will be available under the "),a("code",[t._v("dist/server")]),t._v(" folder.")]),t._v(" "),a("p",[t._v("See the "),a("RouterLink",{attrs:{to:"/home/#building-for-production"}},[t._v("main documentation")]),t._v(" for more details on how to start the server.")],1)])}),[],!1,null,null,null);e.default=s.exports}}]);