<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploying to Heroku | Vue Microblog</title>
    <meta name="description" content="Documentation">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/vue-microblog-ts/assets/css/0.styles.66227b04.css" as="style"><link rel="preload" href="/vue-microblog-ts/assets/js/app.13b08e89.js" as="script"><link rel="preload" href="/vue-microblog-ts/assets/js/2.a5783e3a.js" as="script"><link rel="preload" href="/vue-microblog-ts/assets/js/7.78fbb508.js" as="script"><link rel="prefetch" href="/vue-microblog-ts/assets/js/10.1dc4eb3c.js"><link rel="prefetch" href="/vue-microblog-ts/assets/js/3.467ed7ed.js"><link rel="prefetch" href="/vue-microblog-ts/assets/js/4.5245db72.js"><link rel="prefetch" href="/vue-microblog-ts/assets/js/5.9b47b6d8.js"><link rel="prefetch" href="/vue-microblog-ts/assets/js/6.596d1d2e.js"><link rel="prefetch" href="/vue-microblog-ts/assets/js/8.35ef6f92.js"><link rel="prefetch" href="/vue-microblog-ts/assets/js/9.d9ada1ee.js">
    <link rel="stylesheet" href="/vue-microblog-ts/assets/css/0.styles.66227b04.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-microblog-ts/" class="home-link router-link-active"><!----> <span class="site-name">Vue Microblog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-microblog-ts/" class="nav-link">
  Home
</a></div> <a href="https://github.com/Phoenix2k/vue-microblog-ts" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-microblog-ts/" class="nav-link">
  Home
</a></div> <a href="https://github.com/Phoenix2k/vue-microblog-ts" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>General</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-microblog-ts/home/" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Client</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-microblog-ts/client/" class="sidebar-link">Introduction to the client</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Server</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-microblog-ts/server/" class="sidebar-link">Introduction to the server</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-microblog-ts/deployment/" class="active sidebar-link">Deploying to Heroku</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-microblog-ts/deployment/#getting-started" class="sidebar-link">Getting started</a></li><li class="sidebar-sub-header"><a href="/vue-microblog-ts/deployment/#pushing-to-heroku" class="sidebar-link">Pushing to Heroku</a></li><li class="sidebar-sub-header"><a href="/vue-microblog-ts/deployment/#deployment-process-explained" class="sidebar-link">Deployment process explained</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deploying-to-heroku"><a href="#deploying-to-heroku" class="header-anchor">#</a> Deploying to Heroku</h1> <p>This project could be deployed in a number of ways, but for this excercise I decided to stick with Heroku, since it makes deploying Node apps very easy and free.</p> <p>You can do the following steps using the <a href="https://dashboard.heroku.com/" title="Heroku Dashboard" target="_blank" rel="noopener noreferrer">Heroku dashboard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, but since you will need the <a href="https://toolbelt.heroku.com/" title="Heroku CLI" target="_blank" rel="noopener noreferrer">Heroku CLI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to push the production files to the cloud, you might as well get started in the terminal.</p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <ol><li><p>Create an account on <a href="https://www.heroku.com/" title="Heroku CLI" target="_blank" rel="noopener noreferrer">Heroku<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Download and install the <a href="https://toolbelt.heroku.com/" title="Heroku CLI" target="_blank" rel="noopener noreferrer">Heroku CLI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Log-in with your credentials:</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ heroku login
</code></pre></div><ol start="4"><li>Create a new application:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ heroku apps:create --region eu
</code></pre></div><p>If you're in the US or elsewhere, you can view a full list of available regions <a href="https://devcenter.heroku.com/articles/regions" title="Heroku regions" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Locations marked <a href="https://devcenter.heroku.com/articles/private-spaces" title="Heroku Private Spaces" target="_blank" rel="noopener noreferrer">Private Spaces<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> are only available for <a href="https://www.heroku.com/enterprise" title="Heroku Enterprise" target="_blank" rel="noopener noreferrer">Heroku Enterprise<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> accounts.</p> <ol start="5"><li><p>Open your local <code>.env</code> file and replace the name of the app in <code>HEROKU_APP=your-app-name</code></p></li> <li><p>Add the free <em>Sandboxed</em> version of the <a href="https://elements.heroku.com/addons/mongolab" title="mLab MongoDB" target="_blank" rel="noopener noreferrer">mLab add-on<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> by replacing <code>your-app-name</code> with the name of your app in the following command:</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ heroku addons:create mongolab --app your-app-name
</code></pre></div><ol start="7"><li>Get the <code>MONGODB_URI</code>:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ heroku config
</code></pre></div><ol start="8"><li>Copy the <code>MONGODB_URI</code> to your local <code>.env</code> file and you should be good to go.</li></ol> <h2 id="pushing-to-heroku"><a href="#pushing-to-heroku" class="header-anchor">#</a> Pushing to Heroku</h2> <p>Start the deployment:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> run deploy:heroku
</code></pre></div><p>This will automatically build the current project and deploy the compiled files using a simplified version of <code>package.json</code> located in the <code>dist</code> folder. The process should abort if there are any errors or something is missing from the <code>.env</code> file.</p> <p>You might get prompted for your login information again as it uses a temporary Git repository to push the content to Heroku.</p> <p>The entire process should take about 45 seconds to complete.</p> <h2 id="deployment-process-explained"><a href="#deployment-process-explained" class="header-anchor">#</a> Deployment process explained</h2> <p>There were several different approaches I could have taken to deploy this project to Heroku:</p> <ol><li>Push the entire project to Heroku and let it do all the work</li></ol> <blockquote><p>This turned out to be too slow and frankly made less sense at every push when I tried to make it work.</p></blockquote> <ol start="2"><li>Create a release using <a href="https://help.github.com/articles/creating-releases/" title="GitHub Releases" target="_blank" rel="noopener noreferrer">GitHub releases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and instruct Heroku to fetch the files from there</li></ol> <blockquote><p>This felt a bit too official and would have involved spending more time learning how the releases API works to automate the process.</p></blockquote> <ol start="3"><li>Create a <a href="https://en.wikipedia.org/wiki/Tar_(computing)" title="Tarball" target="_blank" rel="noopener noreferrer">tarball<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, figure out a place to host it and instruct Heroku to fetch the compiled project from there</li></ol> <blockquote><p>Again, a lot of work and the need to have extra hosting for the tar files.</p></blockquote> <ol start="4"><li>Create a separate branch in the same Git repository as this project and create a new commit with only the static files included</li></ol> <blockquote><p>Switching back and forth between a master branch and a deployment branch didn't seem very logical.</p></blockquote> <ol start="5"><li>Create a temporary Git on the local machine and push the compiled files from there</li></ol> <blockquote><p>A bit hacky, but it turned out to be the easiest choice by far</p></blockquote> <p>At first I would have been perfectly happy pushing the entire project to Heroku without the production files included hoping that Heroku would be able to build them on-the-fly using the versions specified in the <code>package.json</code> file and serve the generated files after the build process was complete. This had some unforseen obstacles such as not working and being extremely slow, but more importantly it exposed the whole process to a variety of side-effects that were out of my control.</p> <p>The whole point in deploying a production-ready application is to have it tested, built and re-tested before pushing it somewhere where it can do its magic. Having Heroku do all the hard work seemed pointless, since it had already been done and tested. All that was needed was to figure out a way to push the compiled files to the remote server.</p> <p>As I was going through the documentation for <a href="https://vuepress.vuejs.org/" title="Vue-powered Static Site Generator" target="_blank" rel="noopener noreferrer">VuePress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, I came over their long list of <a href="https://vuepress.vuejs.org/guide/deploy.html" title="VuePress deployment" target="_blank" rel="noopener noreferrer">deployment methods<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and created my own script that did more or less the same. What VuePress does is to nuke the <code>dist</code> folder entirely, regenerate it and have a script create a temporary Git repository inside it which pushes the built files to a remote Git repository where they get served as static files on the web.</p> <p>Here's what I came up with:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/usr/bin/env bash</span>

<span class="token comment"># Color definitions</span>
<span class="token assign-left variable">blue</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput setaf <span class="token number">12</span><span class="token variable">`</span></span>
<span class="token assign-left variable">bold</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput bold<span class="token variable">`</span></span>
<span class="token assign-left variable">cyan</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput setaf <span class="token number">6</span><span class="token variable">`</span></span>
<span class="token assign-left variable">dim</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput dim<span class="token variable">`</span></span>
<span class="token assign-left variable">normal</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput sgr0<span class="token variable">`</span></span>
<span class="token assign-left variable">white</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput setaf <span class="token number">8</span><span class="token variable">`</span></span>

<span class="token comment"># Abort on errors</span>
<span class="token builtin class-name">set</span> -e

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Deploying to <span class="token variable">${bold}</span>Heroku<span class="token variable">${normal}</span>...&quot;</span>

<span class="token comment"># Export .env variables</span>
<span class="token builtin class-name">export</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> .env <span class="token operator">|</span> <span class="token function">xargs</span><span class="token variable">`</span></span>

<span class="token comment"># Make sure the HEROKU_APP variable exists in the .env file</span>
<span class="token comment"># or else the script won't know where to deploy the files</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token variable">$HEROKU_APP</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${bold}</span>Aborting. <span class="token variable">${blue}</span>HEROKU_APP<span class="token variable">${normal}</span> missing.&quot;</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Add the following to the <span class="token variable">${cyan}</span>.env<span class="token variable">${normal}</span> file located in the root folder of this project:&quot;</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${bold}</span>HEROKU_APP=your-app-name<span class="token variable">${normal}</span>&quot;</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Replace <span class="token variable">${cyan}</span>your-app-name<span class="token variable">${normal}</span> with the name of your Heroku application.&quot;</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${dim}</span><span class="token variable">${white}</span>For more information, see the documentation:&quot;</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${normal}</span>https://phoenix2k.github.io/vue-microblog-ts/deployment/<span class="token variable">${normal}</span>&quot;</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">exit</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Application detected: <span class="token variable">${bold}</span><span class="token variable">${HEROKU_APP}</span><span class="token variable">${normal}</span>&quot;</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Proceed with deployment?&quot;</span>
	<span class="token keyword">select</span> <span class="token for-or-select variable">yn</span> <span class="token keyword">in</span> <span class="token string">&quot;Yes&quot;</span> <span class="token string">&quot;No&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
		<span class="token keyword">case</span> <span class="token variable">$yn</span> <span class="token keyword">in</span>
			Yes <span class="token punctuation">)</span> <span class="token builtin class-name">break</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
			No <span class="token punctuation">)</span> <span class="token builtin class-name">exit</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
		<span class="token keyword">esac</span>
	<span class="token keyword">done</span>
<span class="token keyword">fi</span>

<span class="token comment"># Make the client and server ready for production</span>
<span class="token function">npm</span> run build

<span class="token comment"># Navigate the dist directory where the production files are located</span>
<span class="token builtin class-name">cd</span> dist

<span class="token comment"># Generate a package-lock.json file with the dependencies</span>
<span class="token comment"># specified in the second package.json file meant for Heroku</span>
<span class="token function">npm</span> <span class="token function">install</span>

<span class="token comment"># Remove the temporary Git repository if it was left behind</span>
<span class="token comment"># from a previous deployment process</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -d ./.git <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">rm</span> -rf .git
<span class="token keyword">fi</span>

<span class="token comment"># Create a temporary Git repository for deployment</span>
<span class="token function">git</span> init
<span class="token builtin class-name">echo</span>
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'Deploy production files to Heroku'</span>
<span class="token builtin class-name">echo</span>
heroku git:remote -a <span class="token variable">$HEROKU_APP</span>
<span class="token builtin class-name">echo</span>
<span class="token function">git</span> push -f heroku master

<span class="token comment"># Remove the temporary Git repository to avoid interferance</span>
<span class="token comment"># with the main .git repository located in the root</span>
<span class="token function">rm</span> -rf .git

<span class="token builtin class-name">cd</span> -
</code></pre></div><p>Hopefully this example will have given you ideas on how to push your own files to production. If you've figured out an even easier way to do this or see something wrong with this process, please drop me a line in the <a href="https://github.com/Phoenix2k/vue-microblog-ts/issues" target="_blank" rel="noopener noreferrer">issues<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> section here on GitHub.</p> <p>Big thanks to the VuePress team for pointing me in the right direction!</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Phoenix2k/vue-microblog-ts/edit/master/docs/deployment/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last updated:</span> <span class="time">10/29/2018, 12:57:56 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue-microblog-ts/server/" class="prev">
        Introduction to the server
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-microblog-ts/assets/js/app.13b08e89.js" defer></script><script src="/vue-microblog-ts/assets/js/2.a5783e3a.js" defer></script><script src="/vue-microblog-ts/assets/js/7.78fbb508.js" defer></script>
  </body>
</html>
